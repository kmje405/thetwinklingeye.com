---
import Card from "./Card.astro";
import { client } from "../lib/sanity";
import type { BlogPost } from "../types/sanity";

interface Props {
  currentPage?: number;
  postsPerPage?: number;
  blogPosts: BlogPost[];
}

const { currentPage = 1, postsPerPage = 2, blogPosts } = Astro.props;
---

<div class="blog__feed">
  {
    blogPosts.map((post: BlogPost) => (
      <Card
        type="blog"
        title={post.title}
        excerpt={post.excerpt || ""}
        publishedAt={post.publishedAt}
        slug={post.slug.current}
        featuredImage={post.featuredImage}
        author={post.author}
        categories={post.categories}
        variant={post.cardVariant || "editorial"}
      />
    ))
  }
</div>

<style>
  .blog__feed {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    margin: 0 1rem;
    max-width: 1200px;
    margin: 0 auto;
  }

  @media (max-width: 768px) {
    .blog__feed {
      gap: 1rem;
      margin: 0 0.5rem;
    }
  }
</style>
